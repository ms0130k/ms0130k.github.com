import{d as x,r as n,c as m,a as g,w,F as q,b as e,q as S,g as b,k as i,l as r,t as _,u as k,o as p,_ as B}from"./index-BYt9KXic.js";import{a as C}from"./index-xsH4HHeE.js";import{P,a as U}from"./PageTwoColumn-pf-B9n2H.js";const N={class:"support-form-container"},j={class:"form-group"},D={class:"form-group"},E={class:"form-row"},F={class:"form-group"},M={class:"form-group"},T=["disabled"],W={key:0,class:"submit-success"},h={key:1,class:"submit-error"},I=x({__name:"SupportWriteView",setup(R){const s=n({title:"",content:"",email:"",contact:""}),a=n(!1),u=n(!1),l=n(""),V=k();async function y(){var o,f;a.value=!0,u.value=!1,l.value="";const v="https://firestore.googleapis.com/v1/projects/yjc-admin/databases/(default)/documents/inquiries",t={fields:{title:{stringValue:s.value.title},content:{stringValue:s.value.content},email:{stringValue:s.value.email},contact:{stringValue:s.value.contact}}};try{const d=await C.post(v,t);console.log("등록 성공",d.data),u.value=!0,s.value={title:"",content:"",email:"",contact:""},V.push("/support")}catch(d){const c=d;l.value=((f=(o=c==null?void 0:c.response)==null?void 0:o.data)==null?void 0:f.message)||"등록에 실패했습니다."}finally{a.value=!1}}return(v,t)=>(p(),m(q,null,[g(P,{title:"문의하기",description:"궁금한 점이 있으시면 언제든 문의해 주세요."}),g(U,null,{right:w(()=>[e("div",N,[e("form",{class:"support-form",onSubmit:S(y,["prevent"])},[e("div",j,[t[4]||(t[4]=e("label",{for:"title"},"제목",-1)),i(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.title=o),type:"text",required:"",class:"form-input"},null,512),[[r,s.value.title]])]),e("div",D,[t[5]||(t[5]=e("label",{for:"content"},"내용",-1)),i(e("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.content=o),required:"",class:"form-textarea",rows:"6"},null,512),[[r,s.value.content]])]),e("div",E,[e("div",F,[t[6]||(t[6]=e("label",{for:"name"},"이메일",-1)),i(e("input",{id:"name","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.email=o),type:"text",required:"",class:"form-input"},null,512),[[r,s.value.email]])]),e("div",M,[t[7]||(t[7]=e("label",{for:"contact"},"연락처",-1)),i(e("input",{id:"contact","onUpdate:modelValue":t[3]||(t[3]=o=>s.value.contact=o),type:"text",required:"",class:"form-input"},null,512),[[r,s.value.contact]])])]),e("button",{type:"submit",class:"submit-btn",disabled:a.value},_(a.value?"등록 중...":"문의 등록"),9,T),u.value?(p(),m("div",W,"문의가 정상적으로 등록되었습니다.")):b("",!0),l.value?(p(),m("div",h,_(l.value),1)):b("",!0)],32)])]),_:1})],64))}}),H=B(I,[["__scopeId","data-v-ed8d66be"]]);export{H as default};
